{
  "namespace": "persona_popups",

  //--------------------------------------------------------------------------------
  // Popup Common
  //--------------------------------------------------------------------------------

  "no_content_panel": {
    "type": "panel",
    "size": [ 0, 0 ]
  },

  "common_image": {
    "type": "image",
    "keep_ratio": false,
    "texture": "$image",
    "$image|default": "#texture",
    "$image_binding_name|default": "#none",
    "$image_binding_type|default": "none",

    "bindings": [
      {
        "binding_type": "$image_binding_type",
        "binding_name": "$image_binding_name",
        "binding_name_override": "#texture"
      }
    ]
  },

  "common_icon@common_image": {
    "size": [ 12, 12 ],
    "$icon_image|default": "textures/ui/white_background",
    "$image|default": "$icon_image",
    "$icon_binding_type|default": "none",
    "$image_binding_type": "$icon_binding_type",
    "$icon_binding_name|default": "#none",
    "$image_binding_name": "$icon_binding_name"
  },

  "create_persona_choice_checked_image@persona_popups.common_image": {
    "size": [ 10, 10 ],
    "$image": "textures/ui/radiobox_filled"
  },

  "create_persona_choice_unchecked_image@persona_popups.common_image": {
    "size": [ 10, 10 ],
    "$image": "textures/ui/radiobox_unfilled"
  },

  "modal_window_input_blocker@persona_popups.common_image": {
    "$image|default": "textures/ui/white_background",
    "color": "black",
    "alpha": 0.8
  },

  "modal_popup_background@persona_popups.common_image": {
    "size": [ "100% - 4px", "100% - 4px" ],
    "layer": 1,
    "$image|default": "textures/ui/white_background",
    "alpha": 0.8,
    "color": "$profile_create_character_background_color"
  },

  "general_text_field": {
    "type": "label",
    "color": "$generic_button_text_color",
    "font_scale_factor": "$font_scale",
    "$font_type|default": "default",
    "font_type": "$font_type",
    "$font_scale|default": 1.0,
    "$text_anchor|default": "left_middle",
    "anchor_from": "$text_anchor",
    "anchor_to": "$text_anchor"
  },

  "title_text@persona_popups.general_text_field": {
    "size": "$title_size",
    "$title_size|default": [ "default", "default" ],
    "text": "$title_text",
    "text_alignment": "center",
    "layer": 2,
    "$title_text|default": "#title_text",
    "$title_text_binding_name|default": "#none",
    "bindings": [
      {
        "binding_name": "$title_text_binding_name",
        "binding_name_override": "#title_text"
      }
    ]
  },

  "popup_title@persona_popups.title_text": {
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [ 0, 8 ],
    "color": "$light_button_default_text_color"
  },

  "popup_content@common.scrolling_panel": {
    "type": "scroll_view",
    "size": [ "100% - 16px", "100% - 64px" ],
    "offset": [ 0, 23 ],
    "$scrolling_pane_offset": [ 0, 0 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "$show_background": false
  },

  "popup_ok_button@common_buttons.light_text_button": {
    "size": [ "100% - 23px", 26 ],
    "$pressed_button_name": "$confirm_button_name",
    "offset": [ 0, -9 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "$button_text": "$confirm_button_text",
    "$confirm_button_text|default": "#none",
    "$confirm_button_enabled|default": "#none",
    "$focus_override_down": "FOCUS_OVERRIDE_STOP",
    "$focus_override_left": "FOCUS_OVERRIDE_STOP",
    "$focus_override_right": "FOCUS_OVERRIDE_STOP",
    "bindings": [
      {
        "binding_name": "$confirm_button_enabled",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "popup_frame@common.dialog_background_hollow_2": {
    "$ignore_close_button|default": false,
    "$show_close_button": true,
    "$close_button_offset": [ -2, 2 ],
    "$close_button_visible_binding_type": "global",

    "controls": [
      { "title_label@persona_popups.popup_title": {} },
      { "close_button@common.close_button": { "ignored": "$ignore_close_button" } },
      { "content@persona_popups.popup_content": {} },
      { "ok_button@persona_popups.popup_ok_button": {} }
    ]
  },

  "popup_info_panel": {
    "type": "panel",
    "size": "$popup_panel_size",
    "$popup_panel_size|default": [ 369, 230 ],
    "controls": [
      { "background@persona_popups.modal_popup_background": {} },
      { "frame@persona_popups.popup_frame": {} }
    ]
  },

  "common_dialog@popup_dialog.popup_dialog": {
    "size": [ "100%", "100%" ],
    "layer": 500,
    "controls": [
      { "background@persona_popups.modal_window_input_blocker": {} },
      { "panel@persona_popups.popup_info_panel": {} }
    ]
  },

  "popup_dialog_bg@common_dialogs.dialog_background_hollow_3": {
    "size": [ "100%", "100%" ],
    "$persona_popup_title_text|default": "dr.classic_skins.select_skin.title",
    "$persona_popup_title_font_type|default": "MinecraftTen",
    "$persona_popup_title_offset|default": [ 0, 5.5 ],
    "$section_content_offset|default": [ 0, 0 ],
    "controls": [
      {
        "background_image": {
          "type": "image",
          "layer": -1,
          "size": "$section_content_size",
          "offset": "$section_content_offset",
          "texture": "textures/ui/White",
          "color": "$dressing_room_dark_bg_color",
          "alpha": "$dressing_room_background_alpha"
        }
      },
      {
        "title_panel@common.empty_panel": {
          "size": [ "100% - 16px", 21 ],
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "controls": [
            {
              "title": {
                "type": "label",
                "$persona_popup_title_size|default": [ "100%", 15 ],
                "$persona_popup_title_offset|default": [ 0, 2 ],
                "size": "$persona_popup_title_size",
                "layer": 2,
                "font_type": "$persona_popup_title_font_type",
                "text_alignment": "center",
                "offset": "$persona_popup_title_offset",
                "text": "$persona_popup_title_text",
                "color": "$light_button_default_text_color",

                "$persona_popup_title_bindings|default": [],
                "bindings": "$persona_popup_title_bindings"
              }
            }
          ]
        }
      },
      { "popup_content@$dialog_content": {} }
    ]
  },

  "icon_title_bar@common.horizontal_stack_panel": {
    "size": [ "100%c", "100%cm" ],
    "$title_font_type|default": "default",
    "controls": [
      { "icon@persona_popups.common_icon": {} },
      { "padding@common.empty_panel": { "size": [ 5, "100%cm" ] } },
      {
        "text_title_panel@persona_popups.title_text": {
          "$font_type": "$title_font_type"
        }
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Skin vs Persona Difference Information
  //--------------------------------------------------------------------------------

  "popup_dialog__difference_information@persona_popups.common_dialog": {
    "$ignore_close_button": true,
    "$popup_panel_size": [ "80%", "93%" ],
    "$confirm_button_name": "button.close_differences_dialog",
    "$title_text": "dr.modal.difference_information_title",
    "$scrolling_content": "persona_popups.different_info_panel_contents",
    "$confirm_button_text": "gui.ok",
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  "differences_left_details@persona_popups.general_text_field": {
    "size": [ "100%", "default" ],
    "text": "$description_text",
    "$details_font_type|default": "default",
    "font_type": "$details_font_type"
  },

  "differences_left_section@common.vertical_stack_panel": {
    "size": [ "fill", "100%c" ],
    "controls": [
      { "title_bar@persona_popups.icon_title_bar": {} },
      { "padding_1@common.empty_panel": { "size": [ "100%", 5 ] } },
      { "details@persona_popups.differences_left_details": {} }
    ]
  },

  "differences_detail_image@persona_popups.common_image": {
    "size": [ 116, 68 ],
    "$description_image|default": "textures/ui/white_background",
    "$image": "$description_image",
    "anchor_from": "right_middle",
    "anchor_to": "right_middle"
  },

  "differences_title_card_display@common.horizontal_stack_panel": {
    "size": [ "100%", "100%cm" ],
    "$title_font_type": "MinecraftTen",
    "$details_font_type": "smooth",
    "controls": [
      { "left@persona_popups.differences_left_section": {} },
      { "padding_1@common.empty_panel": { "size": [ "5%", "100%cm" ] } },
      { "right@persona_popups.differences_detail_image": {} }
    ]
  },

  "differences_persona_detail_section@persona_popups.differences_title_card_display": {
    "$title_text": "profileScreen.differences_character_creator_title",
    "$icon_image": "textures/ui/sidebar_icons/character_creator",
    "$description_text": "profileScreen.difference_character_creator_description",
    "$description_image": "textures/ui/persona_key_comp"
  },

  // for classic skin details
  "differences_classic_skin_detail_section@persona_popups.differences_title_card_display": {
    "$title_text": "profileScreen.differences_classic_skin_title",
    "$title_text_anchor": "top_left",
    "$icon_image": "textures/ui/sidebar_icons/classic_skins",
    "$description_text": "profileScreen.difference_classic_skin_description",
    "$description_image": "textures/ui/classic_skin_comp"
  },

  "different_info_panel_contents@common.vertical_stack_panel": {
    "size": [ "100% - 20px", "100%c" ],
    "offset": [ 8, 4 ],
    "controls": [
      { "character_display@persona_popups.differences_persona_detail_section": {} },
      { "item_1_padding@common.empty_panel": { "size": [ 0, 10 ] } },
      {
        "divider@common.horizontal_divider": {
          "size": [ "100% - 10px", 1 ],
          "offset": [ 5, 0 ]
        }
      },
      { "item_2_padding@common.empty_panel": { "size": [ 0, 10 ] } },
      { "classic_skin_display@persona_popups.differences_classic_skin_detail_section": {} }
    ]
  },

  "popup_dialog__preview_difference_information@persona_popups.popup_dialog__difference_information": {
    "$confirm_button_name": "button.close_entry_prompt_dialog"
  },

  //--------------------------------------------------------------------------------
  // Delete Persona
  //--------------------------------------------------------------------------------

  "popup_dialog__delete_persona@popup_dialog.popup_dialog": {
    "debug": "red",
    "size": [ 260, 130 ],
    "layer": 500,
    "$left_button_press": "button.close_dialog",
    "$right_button_press": "button.confirm_delete",
    "$message_text": "dr.modal.persona_delete_confirm",
    "$persona_popup_title_font_type": "default",
    "$persona_popup_title_offset": [ 0, 8 ],
    "$persona_popup_title_text": "dr.modal.persona_delete_confirm_title",
    "$left_button_text": "gui.cancel",
    "$right_button_text": "gui.confirm",
    "$section_content_size": [ "100% - 16px", "100% - 30px" ],
    "$section_content_offset": [ 0, "8px" ],
    "controls": [
      {
        "popup_dialog_bg@persona_popups.popup_dialog_bg": {
          "$dialog_content": "persona_popups.popup_dialog_delete_persona_content"
        }
      }
    ]
  },

  "popup_dialog_delete_persona_content@common.empty_panel": {
    "size": "$section_content_size",
    "offset": "$section_content_offset",
    "controls": [
      { "image@persona_popups.alex_warning": {} },
      { "message@persona_popups.delete_popup_dialog_message": {} },
      { "buttons@persona_popups.delete_persona_button_stack": {} }
    ]
  },

  "alex_warning": {
    "type": "image",
    "size": [ 47, 67 ],
    "texture": "textures/ui/warning_alex",
    "offset": [ 4, -12 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "layer": 1
  },

  "delete_popup_dialog_message@popup_dialog.popup_dialog_message": {
    "size": [ "90% - 32px", "68%" ],
    "color": "$dressing_room_right_side_default_text_color",
    "font_type": "smooth",
    "font_scale_factor": 1.3,
    "offset": [ 30, 4 ]
  },

  "delete_persona_button_stack@common.horizontal_stack_panel": {
    "offset": [ 0, "67%" ],
    "controls": [
      { "left_button@persona_popups.delete_persona_left_button": {} },
      { "padding@common.empty_panel": { "size": [ 4, "100%" ] } },
      { "right_button@persona_popups.delete_persona_right_button": {} }
    ]
  },

  "delete_persona_left_button@popup_dialog.popup_dialog_left_button": {
    "size": [ 116, 28 ],
    "offset": [ 0, 2 ],
    "$new_ui_label_offset": [ 0, 0 ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$left_button_press",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$left_button_press",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$left_button_press",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  "delete_persona_right_button@popup_dialog.popup_dialog_right_button": {
    "size": [ 116, 28 ],
    "offset": [ 0, 0 ],
    "$new_ui_label_offset": [ 0, 0 ]
  },

  //--------------------------------------------------------------------------------
  // Create Persona
  //--------------------------------------------------------------------------------

  "popup_dialog__create_persona@persona_popups.common_dialog": {
    "$title_text": "profileScreen.create_persona_title",
    "$scrolling_content": "persona_popups.create_persona_display",
    "$confirm_button_name": "button.create_selected_persona",
    "$confirm_button_text": "#create_persona_popup_confirm_text",
    "$button_text_binding_type": "global",
    "$button_binding_condition": "always",
    "$close_button_to_button_id": "button.close_edit_appearance_preset",
    "$confirm_button_enabled": "#create_persona_has_selected_type",
    "$popup_panel_size": [ 260, 175 ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  "create_persona_display@common.vertical_stack_panel": {
    "offset": [ 4, 2 ],
    "controls": [
      { "vertical_padding_2px@common.empty_panel": { "size": [ "100%", 2 ] } },
      { "stack_content@persona_popups.create_persona_choice_stack": {} }
    ]
  },

  "create_persona_choice_stack@common.vertical_stack_panel": {
    "size": [ "100%cm", "100%c" ],
    "layer": 1,
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "collection_name": "persona_type_toggles_collection",
    "controls": [
      { "background1@persona_popups.create_persona_choice_character": {} },
      { "background2@persona_popups.create_persona_choice_classic_skin": {} }
    ]
  },

  "create_persona_choice_character": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],

    "$title_text": "profileScreen.differences_character_creator_title",
    "$create_persona_description": "profileScreen.create_persona_character_details",
    "$icon_image": "textures/ui/sidebar_icons/character_creator",
    "collection_index": 0,
    "$toggle_default_state": true,
    "$choice_bottom_content": "persona_popups.select_default_character_button_vertical_panel",
    "$toggle_view_binding_name": "persona_choice_character_toggle",

    "controls": [
      { "create_persona_choice_character@persona_popups.create_persona_choice_button": {} }
    ]
  },

  "select_default_character_button_vertical_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "$default_glyph_color": "$light_glyph_default_color",
    "$button_image_color": [ 1.0, 1.0, 1.0 ],

    "controls": [
      { "padding@common.empty_panel": { "size": [ "100%", 4 ] } },
      {
        "select_default_character_button_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "select_default_character_button@persona_popups.select_default_character_button": {} }
          ]
        }
      }
    ]
  },

  "select_default_character_button@common_buttons.light_text_button": {
    "size": [ "100% - 23px", 26 ],
    "$pressed_button_name": "button.open_default_character_selection_modal",
    "$button_state_panel": "common_buttons.new_ui_button_panel",
    "$button_size_override": [ "100%", "100%" ],
    "$button_text_binding_type": "none",
    "$button_text": "profileScreen.selectPrebuiltCharacter",
    "focus_identifier": "select_default_character_button",

    "consume_hover_events": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ],

    "$button_bindings": [
      {
        "binding_type": "view",
        "source_control_name": "persona_choice_character_toggle",
        "source_property_name": "#toggle_state",
        "target_property_name": "#enabled"
      }
    ]
  },

  "create_persona_choice_classic_skin@persona_popups.create_persona_choice_button": {
    "$title_text": "profileScreen.differences_classic_skin_title",
    "$create_persona_description": "profileScreen.create_persona_classic_skin_details",
    "$toggle_view_binding_name": "skin_toggle",
    "$icon_image": "textures/ui/sidebar_icons/classic_skins",
    "collection_index": 1,
    "$focus_override_up": "select_default_character_button"
  },

  "create_persona_choice_button": {
    "type": "panel",
    "size": [ 233, "100%c" ],

    "$button_size_override": [ "100%", "100%c" ],

    "$toggle_name": "toggle_create_persona_choice",
    "$toggle_binding_type": "collection",
    "$toggle_state_binding_name": "#persona_type_toggle_state",

    "$toggle_grid_collection_name": "persona_type_toggles_collection",
    "$toggle_collection_details_type": "collection_details",
    "$toggle_collection_detail_name": "persona_type_toggles_collection",

    "$checked_image": "persona_popups.create_persona_choice_checked_image",
    "$unchecked_image": "persona_popups.create_persona_choice_unchecked_image",

    "$default_texture": "textures/ui/disabledButtonNoBorder",
    "$hover_texture_color": "$profile_create_character_unselected_color",
    "$hover_checked_texture_color": "$profile_create_character_selected_color",

    "$toggle_button_type_panel": "persona_popups.create_persona_choice_background",

    "controls": [
      {
        "choice_toggle@common_toggles.dark_vertical_form_fitting_content_toggle": {
          "size": [ "100%", "100%c" ],
          "$toggle_consume_hover_events": false
        }
      }
    ]
  },

  "create_persona_choice_background@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],
    "offset": [ 0, 2 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",

    "$choice_bottom_content|default": "persona_popups.no_content_panel",

    "controls": [
      { "choice_title_bar@persona_popups.create_persona_choice_title_bar": {} },
      { "choice_details_body@persona_popups.create_persona_choice_detail_panel": {} },
      { "choice_bottom_content@$choice_bottom_content": {} }
    ]
  },

  "create_persona_choice_title_bar@common.horizontal_stack_panel": {
    "size": [ "100%c", "100%cm" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",

    "controls": [
      { "checkbox@persona_popups.create_persona_choice_check_positioning": {} },
      { "spacing@common.empty_panel": { "size": [ 2, 0 ] } },
      { "icon_title@persona_popups.create_persona_choice_icon_title": {} }
    ]
  },

  "create_persona_choice_check_positioning@common.empty_panel": {
    "size": [ "100%c + 5px", "100%cm + 2px" ],
    "controls": [
      { "toggle_image@$toggle_image": {} }
    ]
  },

  "create_persona_choice_icon_title@persona_popups.icon_title_bar": {
    "size": [ "100%c + 4px", "100%cm + 2px" ],
    "layer": 1,
    "offset": [ 2, 2 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$text_anchor": "center",
    "$title_text_binding_name": "#selected_persona_skin_text"
  },

  "create_persona_choice_detail_panel@common.horizontal_stack_panel": {
    "size": [ "100%", "100%c" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      { "spacing@common.empty_panel": { "size": [ 5, 0 ] } },
      { "choice_details_body@persona_popups.create_persona_choice_detail": {} }
    ]
  },

  "create_persona_choice_detail@persona_popups.general_text_field": {
    "size": [ "95%", "default" ],
    "max_size": [ "95%", 30 ],
    "$create_persona_description|default": "",
    "text": "$create_persona_description",
    "$font_type": "smooth"
  }

}
